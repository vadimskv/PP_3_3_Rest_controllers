<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Admin panel</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css"
          integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
            integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
            integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js"
            integrity="sha384-+sLIOodYLS7CIrQpBjl+C7nPvqq+FbNUBDunl/OZv93DB7Ln/533i8e/mZXLi/P+"
            crossorigin="anonymous"></script>
</head>
<body class="bg-light" style="height: 100vh;">


<!-- Фрагмент навигационного меню -->

<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <a class="navbar-brand">
        <span id="adminPage" class="fw-bold"></span>
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Переключатель навигации">
        <span class="navbar-toggler-icon"></span>
    </button>
    <ul class="navbar-nav ml-auto">
        <li class="nav-item">
            <a class="nav-link text-end" href="/logout">Logout</a>
        </li>
    </ul>
</nav>

<!--НАВИГАЦИЯ 1-->
<section class="container-fluid h-100">
    <div class="row h-100">
        <div class="col-2 d-flex flex-column p-0 h-100 bg-white">
            <div class="nav flex-column nav-pills mt-3 col-12 bg-white p-0 h-100" id="v-pills-tab"
                 role="tablist" aria-orientation="vertical">

                <a class="nav-link active" id="admin-tab" role="tab"
                   aria-controls="home" data-toggle="pill" aria-selected="true" href="/admin">
                    <div> Admin</div>
                </a>
                <a class="nav-link" id="user-tab" role="tab"
                   aria-controls="v-pills-profile" aria-selected="false" href="/user">
                    <div>User</div>
                </a>

            </div>
        </div>
        <!--АДМИН ПАНЕЛЬ И НАВИГАЦИЯ 2-->
        <div class="col-10 pr-4 pl-4 pt-3">
            <!--            <div class="tab-content" id="v-pills-tabContent">-->
            <!--                <div class="tab-pane fade" id="admin" role="tabpanel" aria-labelledby="admin-tab">-->
            <div class="container-fluid bg-light">
                <div class="row">
                    <div class="col">
                        <h1>Admin panel</h1>
                        <ul class="nav nav-tabs mt-3">
                            <li class="nav-item">
                                <a class="nav-link active" id="home-tab" data-toggle="tab" href="#usersTable"
                                   role="tab"
                                   aria-controls="home" aria-selected="true">Users table</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" id="profile-tab" data-toggle="tab" href="#newUser"
                                   role="tab"
                                   aria-controls="profile" aria-selected="false">New User</a>
                            </li>
                        </ul>
                        <div class="tab-content">
                            <div class="tab-pane active" id="usersTable" role="tabpanel"
                                 aria-labelledby="home-tab">

                                <!--ТАБЛИЦА-->
                                <div class="border rounded">
                                    <div class="container-fluid bg-white rounded pr-3 rl-3">
                                        <div class="row">
                                            <div class="col border-bottom rounded-top bg-light pt-2">
                                                <p class="h5" style="text-indent: 5px;">
                                                    All users
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="container-fluid">
                                        <div class="row bg-white rounded p-1">
                                            <div class="col-12 mt-3 mb-2">
                                                <div class="table-responsive">
                                                    <table class="table table-striped">
                                                        <thead>
                                                        <tr>
                                                            <th scope="col" class="align-middle">ID</th>
                                                            <th scope="col" class="align-middle">First Name</th>
                                                            <th scope="col" class="align-middle">Last Name</th>
                                                            <th scope="col" class="align-middle">Age</th>
                                                            <th scope="col" class="align-middle">Email</th>
                                                            <th scope="col" class="align-middle">Role</th>
                                                            <th scope="col" class="align-middle">Edit</th>
                                                            <th scope="col" class="align-middle">Delete</th>
                                                        </tr>
                                                        </thead>
                                                        <tbody id="tbData">
                                                        </tbody>
                                                    </table>

                                                    <!-- Modal edit-->

                                                    <div class="modal fade" id="edit" tabindex="-1"
                                                         role="dialog" aria-labelledby="userEditModalLabel"
                                                         aria-hidden="true">
                                                        <div class="modal-dialog" role="document">
                                                            <div class="modal-content">
                                                                <div class="modal-header">
                                                                    <h5 class="modal-title"
                                                                        id="userEditModalLabel">
                                                                        Edit
                                                                        user</h5>
                                                                    <button type="button" class="close"
                                                                            data-dismiss="modal"
                                                                            aria-label="Close">
                                                                        <span aria-hidden="true">&times;</span>
                                                                    </button>
                                                                </div>
                                                                <div class="modal-body">
                                                                    <form>
                                                                        <div class="d-flex justify-content-center align-items-center flex-column">

                                                                            <div class="form-group"
                                                                                 style="width: 250px; height: 25px">
                                                                                <div class="d-flex justify-content-center">
                                                                                    <label for="id"
                                                                                           class="mb-0 font-weight-bold">ID</label>
                                                                                </div>
                                                                                <input type="number"
                                                                                       class="form-control"
                                                                                       id="id" disabled/>
                                                                            </div>

                                                                            <div class="form-group mt-4"
                                                                                 style="width: 250px; height: 25px">
                                                                                <div class="d-flex justify-content-center">
                                                                                    <label for="firstname"
                                                                                           class="mb-0 font-weight-bold">First
                                                                                        Name</label>
                                                                                </div>
                                                                                <input type="text"
                                                                                       class="form-control"
                                                                                       id="firstname" required/>
                                                                            </div>

                                                                            <div class="form-group mt-4"
                                                                                 style="width: 250px; height: 25px">
                                                                                <div class="d-flex justify-content-center">
                                                                                    <label for="lastname"
                                                                                           class="mb-0 font-weight-bold">Last
                                                                                        Name</label>
                                                                                </div>
                                                                                <input type="text"
                                                                                       class="form-control"
                                                                                       id="lastname" required/>
                                                                            </div>

                                                                            <div class="form-group mt-4"
                                                                                 style="width: 250px; height: 25px">
                                                                                <div class="d-flex justify-content-center">
                                                                                    <label for="age"
                                                                                           class="mb-0 font-weight-bold">Age</label>
                                                                                </div>
                                                                                <input type="number"
                                                                                       class="form-control"
                                                                                       id="age" required/>
                                                                            </div>

                                                                            <div class="form-group mt-4"
                                                                                 style="width: 250px; height: 25px">
                                                                                <div class="d-flex justify-content-center">
                                                                                    <label for="email"
                                                                                           class="mb-0 font-weight-bold">Email</label>
                                                                                </div>
                                                                                <input type="text"
                                                                                       class="form-control"
                                                                                       id="email"/>
                                                                            </div>

                                                                            <div class="form-group mt-4"
                                                                                 style="width: 250px; height: 25px">
                                                                                <div class="d-flex justify-content-center">
                                                                                    <label for="password"
                                                                                           class="mb-0 font-weight-bold">Password</label>
                                                                                </div>
                                                                                <input type="password"
                                                                                       class="form-control"
                                                                                       id="password" required/>
                                                                            </div>

                                                                            <div class="form-group mt-4"
                                                                                 style="width: 250px;">
                                                                                <div class="d-flex justify-content-center">
                                                                                    <label for="roles"
                                                                                           class="mb-0 font-weight-bold">Roles</label>
                                                                                </div>
                                                                                <select class="form-control"
                                                                                        style="height: 60px;"
                                                                                        id="roles"
                                                                                        aria-label="size 2 select example"
                                                                                        multiple size="2"
                                                                                        required>
                                                                                    <!--                                                                                                <option th:each="role : ${roles}"-->
                                                                                    <!--                                                                                                        th:value="${role.id}"-->
                                                                                    <!--                                                                                                        th:text="${role.name.replace('ROLE_', '')}"-->
                                                                                    <!--                                                                                                        th:selected="${user.roles.contains(role)}">-->
                                                                                    <!--                                                                                                </option>-->
                                                                                </select>
                                                                            </div>
                                                                        </div>
                                                                    </form>
                                                                </div>
                                                                <div class="modal-footer">
                                                                    <button type="button"
                                                                            class="btn btn-secondary"
                                                                            data-dismiss="modal">Close
                                                                    </button>
                                                                    <button type="submit"
                                                                            class="btn btn-primary"
                                                                            onclick="submitForm()"
                                                                            data-dismiss="modal">Edit
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <!-- Modal delete-->

                                                    <div class="modal fade" id="delete" tabindex="-1"
                                                         role="dialog" aria-labelledby="userEditModalLabel"
                                                         aria-hidden="true">
                                                        <div class="modal-dialog" role="document">
                                                            <div class="modal-content">
                                                                <div class="modal-header">
                                                                    <h5 class="modal-title"
                                                                        id="deleteDeleteModalLabel">Edit
                                                                        user</h5>
                                                                    <button type="button" class="close"
                                                                            data-dismiss="modal"
                                                                            aria-label="Close">
                                                                        <span aria-hidden="true">&times;</span>
                                                                    </button>
                                                                </div>
                                                                <div class="modal-body">
                                                                    <form>
                                                                        <div class="d-flex justify-content-center align-items-center flex-column">

                                                                            <div class="form-group"
                                                                                 style="width: 250px; height: 25px">
                                                                                <div class="d-flex justify-content-center">
                                                                                    <label for="id_d"
                                                                                           class="mb-0 font-weight-bold">ID</label>
                                                                                </div>
                                                                                <input type="number"
                                                                                       class="form-control"
                                                                                       id="id_d" disabled/>
                                                                            </div>

                                                                            <div class="form-group mt-4"
                                                                                 style="width: 250px; height: 25px">
                                                                                <div class="d-flex justify-content-center">
                                                                                    <label for="firstname_d"
                                                                                           class="mb-0 font-weight-bold">First
                                                                                        Name</label>
                                                                                </div>
                                                                                <input type="text"
                                                                                       class="form-control"
                                                                                       id="firstname_d"
                                                                                       disabled/>
                                                                            </div>

                                                                            <div class="form-group mt-4"
                                                                                 style="width: 250px; height: 25px">
                                                                                <div class="d-flex justify-content-center">
                                                                                    <label for="lastname_d"
                                                                                           class="mb-0 font-weight-bold">Last
                                                                                        Name</label>
                                                                                </div>
                                                                                <input type="text"
                                                                                       class="form-control"
                                                                                       id="lastname_d"
                                                                                       disabled/>
                                                                            </div>

                                                                            <div class="form-group mt-4"
                                                                                 style="width: 250px; height: 25px">
                                                                                <div class="d-flex justify-content-center">
                                                                                    <label for="age_d"
                                                                                           class="mb-0 font-weight-bold">Age</label>
                                                                                </div>
                                                                                <input type="number"
                                                                                       class="form-control"
                                                                                       id="age_d" disabled/>
                                                                            </div>

                                                                            <div class="form-group mt-4"
                                                                                 style="width: 250px; height: 25px">
                                                                                <div class="d-flex justify-content-center">
                                                                                    <label for="email_d"
                                                                                           class="mb-0 font-weight-bold">Email</label>
                                                                                </div>
                                                                                <input type="text"
                                                                                       class="form-control"
                                                                                       id="email_d" disabled/>
                                                                            </div>

                                                                            <div class="form-group mt-4"
                                                                                 style="width: 250px;">
                                                                                <div class="d-flex justify-content-center">
                                                                                    <label for="roles_d"
                                                                                           class="mb-0 font-weight-bold">Roles</label>
                                                                                </div>
                                                                                <select class="form-control"
                                                                                        style="height: 60px;"
                                                                                        id="roles_d"
                                                                                        aria-label="size 2 select example"
                                                                                        multiple size="2"
                                                                                        disabled>
                                                                                    <!--                                                                                                <option th:each="role : ${roles}"-->
                                                                                    <!--                                                                                                        th:value="${role.id}"-->
                                                                                    <!--                                                                                                        th:text="${role.name.replace('ROLE_', '')}"-->
                                                                                    <!--                                                                                                        th:selected="${user.roles.contains(role)}">-->
                                                                                    <!--                                                                                                </option>-->
                                                                                </select>
                                                                            </div>
                                                                        </div>
                                                                    </form>
                                                                </div>
                                                                <div class="modal-footer">
                                                                    <button type="button"
                                                                            class="btn btn-secondary"
                                                                            data-dismiss="modal">Close
                                                                    </button>
                                                                    <button type="submit"
                                                                            class="btn btn-danger"
                                                                            onclick="deleteData(document.getElementById('id_d').value)"
                                                                            data-dismiss="modal">
                                                                        Delete
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!--ДОБАВЛЕНИЕ ПОЛЬЗОВАТЕЛЯ-->
                            <div class="tab-pane" id="newUser" role="tabpanel" aria-labelledby="profile-tab">
                                <div class="border rounded bg-white">
                                    <div class="container-fluid rounded">
                                        <div class="row">
                                            <div class="col border-bottom rounded-top bg-light pt-2">
                                                <p class="h5" style="text-indent: 5px;">
                                                    Add new user
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="container mb-4">
                                        <form>
                                            <div class="d-flex justify-content-center align-items-center flex-column">
                                                <div class="form-group mt-3" style="width: 300px; height: 25px">
                                                    <div class="d-flex justify-content-center">
                                                        <label for="firstname_n" class="mb-0 font-weight-bold">First
                                                            name</label>
                                                    </div>
                                                    <input type="text" class="form-control form-control-sm"
                                                           id="firstname_n"
                                                           placeholder="First name">
                                                </div>
                                                <div class="form-group mt-4" style="width: 300px; height: 25px">
                                                    <div class="d-flex justify-content-center">
                                                        <label for="lastname_n" class="mb-0 font-weight-bold">Last
                                                            name</label>
                                                    </div>
                                                    <input type="text" class="form-control form-control-sm"
                                                           id="lastname_n"
                                                           placeholder="Last name">
                                                </div>
                                                <div class="form-group mt-4" style="width: 300px; height: 25px">
                                                    <div class="d-flex justify-content-center">
                                                        <label for="age_n"
                                                               class="mb-0 font-weight-bold">Age</label>
                                                    </div>
                                                    <input type="number" class="form-control form-control-sm"
                                                           id="age_n"
                                                           placeholder="Age">
                                                </div>
                                                <div class="form-group mt-4" style="width: 300px; height: 25px">
                                                    <div class="d-flex justify-content-center">
                                                        <label for="email_n"
                                                               class="mb-0 font-weight-bold">Email</label>
                                                    </div>
                                                    <input type="text" class="form-control form-control-sm"
                                                           id="email_n"
                                                           placeholder="Email">
                                                </div>
                                                <div class="form-group mt-4" style="width: 300px; height: 25px">
                                                    <div class="d-flex justify-content-center">
                                                        <label for="password_n"
                                                               class="mb-0 font-weight-bold">Password</label>
                                                    </div>
                                                    <input type="text" class="form-control form-control-sm"
                                                           id="password_n"
                                                           placeholder="Password">
                                                </div>

                                                <div class="form-group mt-4" style="width: 300px;">
                                                    <div class="d-flex justify-content-center">
                                                        <label for="roles_n"
                                                               class="mb-0 font-weight-bold">Role</label>
                                                    </div>
                                                    <select class="custom-select" id="roles_n" multiple
                                                            style="height: 60px;">
                                                    </select>
                                                </div>

                                                <button type="button" class="btn btn-success btn-lg"
                                                        onclick="addForm()">Add new user
                                                </button>

                                            </div>
                                        </form>
                                    </div>


                                </div>
                            </div>
                            <!--ДОБАВЛЕНИЕ ПОЛЬЗОВАТЕЛЯ КОНЕЦ-->

                        </div>
                    </div>


                </div>


            </div>

            <!--ТАБЛИЦА КОНЕЦ-->
        </div>

    </div>


    <!--АДМИН ПАНЕЛЬ КОНЕЦ-->

</section>

<script th:src="@{/adminTab.js}" type="text/javascript"></script>

<script src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
        integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js"
        integrity="sha384-VHvPCCyXqtD5DqJeNxl2dtTyhF78xXNXdkwX1CZeRusQfRKp+tA7hAShOK/B/fQ2"
        crossorigin="anonymous"></script>

</body>
</html>